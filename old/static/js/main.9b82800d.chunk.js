(this["webpackJsonpoption-dapp"]=this["webpackJsonpoption-dapp"]||[]).push([[0],{116:function(e,a,t){e.exports={layout:"Layout_layout__2BEq3",content:"Layout_content__I06dq",wrap:"Layout_wrap__1sB59"}},147:function(e,a,t){e.exports={input:"Deploy_input__XSYn9",select:"Deploy_select__10pz6"}},169:function(e,a,t){e.exports={input:"ModalAddAA_input__25DBI"}},177:function(e,a,t){e.exports={select:"SelectAA_select__2jrBu"}},178:function(e,a,t){e.exports={SelectAaRow:"Main_SelectAaRow__Kylyk"}},184:function(e,a,t){e.exports=t(336)},336:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),l=t(4),r=t.n(l),c=t(26),o=t(71),i=t(57),u=(t(193),t(64)),d=t(168),p=t(180),m=t(66),v={list:[],active:null,activeInfo:null,activeBalance:{loading:!1},error:null},_=Object(u.c)({aa:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_AA":return Object(m.a)({},e,{list:[a.payload].concat(Object(p.a)(e.list))});case"ADD_AA_ERR":return Object(m.a)({},e,{error:!0});case"CHANGE_ACTIVE_AA":return Object(m.a)({},e,{active:a.payload.address,activeInfo:a.payload.aaVars,activeBalance:{loading:!1}});case"UPDATE_INFO_ACTIVE_AA":return Object(m.a)({},e,{activeInfo:a.payload.aaVars});case"GET_BALANCE_ACTIVE_AA":var t=a.payload.balance;return Object(m.a)({},e,{activeBalance:{loading:!0,yes_asset:e.activeInfo.yes_asset&&t[e.activeInfo.yes_asset]?t[e.activeInfo.yes_asset].stable:0,no_asset:e.activeInfo.no_asset&&t[e.activeInfo.no_asset]?t[e.activeInfo.no_asset].stable:0}});case"CLEAR_BALANCE_ACTIVE_AA":return Object(m.a)({},e,{activeBalance:{loading:!1}});default:return e}}}),E=Object(u.e)(_,Object(u.d)(Object(u.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),b=t(30),f=t(341),g=t(342),y=t(338),h=t(339),A=t(56),O=t(346),x=t(347),w=t(46),j=t.n(w),I=t(344),C=t(40),N=t.n(C),k=new j.a.Client("wss://obyte.org/bb-test",{testnet:!0});setInterval((function(){k.api.heartbeat()}),1e4);var S=k,D=function(e){return function(a){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.awrap(S.api.getAaStateVars({address:e}));case 3:t=n.sent,a({type:"CHANGE_ACTIVE_AA",payload:{address:e,aaVars:t}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},T=function(e){return function(a){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.awrap(S.api.getAaStateVars({address:e}));case 3:t=n.sent,a({type:"UPDATE_INFO_ACTIVE_AA",payload:{address:e,aaVars:t}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},V=t(169),z=t.n(V),B=function(e){var a=e.visible,t=e.onCancel,l=e.value,r=Object(c.b)(),o=Object(n.useState)({value:"",status:"",help:"",valid:!1}),u=Object(b.a)(o,2),d=u[0],p=u[1],m=Object(n.useState)(!1),v=Object(b.a)(m,2),_=v[0],E=v[1];Object(n.useEffect)((function(){l&&(j.a.utils.isValidAddress(l)?p({value:l,status:"success",help:"",valid:!0}):p({value:l,status:"error",help:"Address is not valid",valid:!1}))}),[l]);return s.a.createElement(I.a,{title:"Add AA in dashboard",visible:a,onOk:function(){d.valid&&(r(function(e){return function(a){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(S.api.getDefinition(e));case 2:if("autonomous agent"!==t.sent[0]){t.next=10;break}return t.next=6,N.a.awrap(a({type:"ADD_AA",payload:e}));case 6:return t.next=8,N.a.awrap(a(D(e)));case 8:t.next=11;break;case 10:a({type:"ADD_AA_ERR"});case 11:case"end":return t.stop()}}))}}(d.value)),t(),p({value:"",status:"",help:"",valid:!1}),E(!0))},onCancel:function(){t(),p({value:"",status:"",help:"",valid:!1})}},s.a.createElement(g.a,null,s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:d.status,help:d.help},s.a.createElement(x.a,{placeholder:"Your adress",onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?p({value:a,status:"success",help:"",valid:!0}):p({value:a,status:"error",help:"Address is not valid",valid:!1})},value:d.value,className:z.a.input,min:1e5,size:"large"}))),_&&s.a.createElement(i.a,{to:"/"}))},R=t(337),F=t(345),L=t(10),$=t(77),Y=t.n($),U=R.a.Sider,X=[{key:"dashboard",icon:"control",title:"Dashboard",path:"/"},{key:"deploy",icon:"plus-circle",title:"Deploy AA",path:"/deploy"}],q=function(e){var a=e.active;return s.a.createElement(U,{breakpoint:"lg",collapsedWidth:"0",className:Y.a.sider},s.a.createElement("div",{className:Y.a.logo},s.a.createElement("img",{src:"/logo.png",className:Y.a.logo__img,alt:"Obyte"}),s.a.createElement("div",{className:Y.a.brand},"Obyte ",s.a.createElement("div",{className:Y.a.product},"Option contract"))),s.a.createElement(F.a,{theme:"light",defaultSelectedKeys:[a],onOpenChange:function(){return console.log("change")},onDeselect:function(){return console.log("change2")}},X.map((function(e){return s.a.createElement(F.a.Item,{key:e.key},s.a.createElement(o.b,{to:e.path,activeClassName:"selected"},s.a.createElement(L.a,{type:e.icon}),s.a.createElement("span",{className:"nav-text"},e.title)))}))))},G=t(116),H=t.n(G),M=R.a.Content,J=f.a.Title,K=function(e){var a=e.children,t=e.title,n=e.page;return s.a.createElement(R.a,{className:H.a.layout},s.a.createElement(q,{active:n}),s.a.createElement(R.a,null,s.a.createElement(M,{className:H.a.content},s.a.createElement("div",{className:H.a.wrap},s.a.createElement(J,{level:1},t),a))))},P=t(343),Q=t(177),W=t.n(Q),Z=P.a.Option,ee=function(){var e=Object(c.b)(),a=Object(c.c)((function(e){return e.aa.list})),t=Object(c.c)((function(e){return e.aa.active}));return s.a.createElement(P.a,{className:W.a.select,placeholder:"Select a AA",onChange:function(a){e(D(a))},value:t||0,size:"large"},s.a.createElement(Z,{key:"AA0",value:0,disabled:!0},"Select a AA"),a.map((function(e,a){return s.a.createElement(Z,{key:"AA"+a,value:e},e)})))},ae=!0,te=t(178),ne=t.n(te),se=f.a.Title,le=function(){var e=Object(n.useState)({value:"",status:"",help:"",valid:!1}),a=Object(b.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)({value:"",status:"",help:"",valid:!1}),o=Object(b.a)(r,2),u=o[0],d=o[1],p=Object(i.f)().AA,m=Object(n.useState)({visible:!!p,value:p||null}),v=Object(b.a)(m,2),_=v[0],E=v[1],f=Object(c.b)(),w=Object(c.c)((function(e){return e.aa.active})),I=Object(c.c)((function(e){return e.aa.activeInfo})),C=Object(c.c)((function(e){return e.aa.activeBalance}));return Object(n.useEffect)((function(){if(w){var e=setInterval((function(){return f(T(w))}),1e4);return function(){clearInterval(e)}}}),[w,f]),s.a.createElement(K,{title:"Dashboard",page:"dashboard"},s.a.createElement(g.a,null,s.a.createElement(y.a,{className:ne.a.SelectAaRow},s.a.createElement(h.a,{xs:{span:24},md:{span:12}},s.a.createElement(g.a.Item,null,s.a.createElement(ee,null))),s.a.createElement(h.a,{xs:{span:24,push:0},md:{span:12,push:1}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",icon:"plus",size:"large",onClick:function(){return E({visible:!0})}},"Add"))))),w&&s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:10}},s.a.createElement(se,{level:2},"Investment"),s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},lg:{span:16}},s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:t.status,help:t.help},s.a.createElement(O.a,{placeholder:"Amount byte (>100k)",onChange:function(e){e<1e5?l({value:e,status:"error",help:"The minimum amount is 100,000 bytes",valid:!1}):I.winner?l({value:e,status:"error",help:"the winner has been chosen",valid:!1}):I.yes_asset?I.no_asset?l({value:e,status:"success",help:"",valid:!0}):l({value:e,status:"error",help:"no_asset has not been created",valid:!1}):l({value:e,status:"error",help:"yes_asset has not been created",valid:!1})},value:t.value,style:{width:"100%"},min:1e5,size:"large"}))),s.a.createElement(h.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(g.a.Item,{onClick:function(){return console.log("form click")}},s.a.createElement("a",{type:"primary",disabled:!(t.valid&&w),size:"large",href:"byteball".concat(ae?"-tn":"",":").concat(w,"?amount=").concat(t.value,"&amp;asset=base"),target:"_blank",rel:"noopener noreferrer",className:"ant-btn ant-btn-primary ant-btn-lg"},"Next")))))),s.a.createElement(h.a,{xs:{span:24},md:{span:12,push:2}},s.a.createElement(se,{level:2},"Redemption"),s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},lg:{span:16}},s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:u.status,help:u.help},s.a.createElement(x.a,{placeholder:"Your adress",onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?d({value:a,status:"success",help:"",valid:!0}):d({value:a,status:"error",help:"Address is not valid",valid:!1})},value:u.value,style:{width:"100%"},min:1e5,size:"large"}))),s.a.createElement(h.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",size:"large",disabled:!(u.valid&&w),onClick:function(){var e;f((e=u.value,function(a){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.awrap(S.api.getBalances([e]));case 3:t=n.sent,a({type:"GET_BALANCE_ACTIVE_AA",payload:{balance:t[e],address:e}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),f(T(w))}},"Search")))),s.a.createElement(y.a,null,u.valid&&C.loading&&s.a.createElement("div",{style:{backgroundColor:"#F0F2F5",wordBreak:"break-all",padding:25,borderRadius:5,fontSize:18}},s.a.createElement(y.a,null,s.a.createElement("b",null,"winner: "),I.winner?I.winner+"_asset":"the winner has not yet been chosen"),s.a.createElement(y.a,null,s.a.createElement("b",null,"no_asset: "),I.no_asset?I.no_asset:"yes_asset has not been created"),s.a.createElement(y.a,null,s.a.createElement("b",null,"yes_asset: "),I.yes_asset?I.yes_asset:"yes_asset has not been created"),s.a.createElement(y.a,null,s.a.createElement("b",null,"your balance of yes_asset: "),C.yes_asset?C.yes_asset:"0"),s.a.createElement(y.a,null,s.a.createElement("b",null,"your balance of no_asset: "),C.no_asset?C.no_asset:"0"),s.a.createElement(y.a,{style:{marginTop:15}},I.winner&&C[I.winner+"_asset"]>0&&s.a.createElement("a",{type:"primary",size:"large",href:"byteball".concat(ae?"-tn":"",":").concat(w,"?amount=").concat(C[I.winner+"_asset"],"&amp;&asset=").concat(encodeURIComponent(I[I.winner+"_asset"])),target:"_blank",rel:"noopener noreferrer",className:"ant-btn ant-btn-lg"},"Exchange for bytes"))))))),s.a.createElement(B,{visible:_.visible,value:_.value,onCancel:function(){return E(!1)}}))},re=t(340),ce=t(111),oe=t.n(ce),ie=t(147),ue=t.n(ie),de=P.a.Option,pe=function(){var e=Object(n.useState)({value:"",status:"",help:"",valid:!1}),a=Object(b.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(""),o=Object(b.a)(r,2),i=o[0],u=o[1],d=Object(n.useState)(""),p=Object(b.a)(d,2),m=p[0],v=p[1],_=Object(n.useState)(""),E=Object(b.a)(_,2),f=E[0],O=E[1],w=Object(n.useState)(""),I=Object(b.a)(w,2),C=I[0],N=I[1],k=Object(n.useState)(!1),S=Object(b.a)(k,2),D=S[0],T=S[1],V=Object(c.b)();Object(n.useEffect)((function(){V({type:"CLEAR_BALANCE_ACTIVE_AA"})}),[V]);var z,R={messages:{cases:[{if:"{$define_yes = trigger.data.define_yes AND !var['yes_asset']; $define_no = trigger.data.define_no AND !var['no_asset']; if ($define_yes AND $define_no) bounce('Cant define both assets at the same time!'); $define_yes OR $define_no}",messages:[{app:"asset",payload:{is_private:!1,is_transferrable:!0,auto_destroy:!1,fixed_denominations:!1,issued_by_definer_only:!0,cosigned_by_definer:!1,spender_attested:!1}},{app:"state",state:"{ $asset = $define_yes ? 'yes_asset' : 'no_asset'; var[$asset] = response_unit; response[$asset] = response_unit; }"}]},{if:"{trigger.output[[asset=base]] >= 1e5 AND var['yes_asset'] AND var['no_asset']}",messages:[{app:"payment",payload:{asset:"{var['yes_asset']}",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset=base]] }"}]}},{app:"payment",payload:{asset:"{var['no_asset']}",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset=base]] }"}]}}]},{if:"{exists(trigger.data.winner) AND (trigger.data.winner == 'yes' OR trigger.data.winner == 'no') AND !var['winner']}",messages:[{app:"state",state:"{if (trigger.data.winner == 'yes' AND data_feed[[oracles='"+t.value+"', feed_name='"+i+"']] "+m+" "+(z=C,/^-{0,1}\d+$/.test(z)?z:"'".concat(z,"'"))+")var['winner'] = 'yes'; else if (trigger.data.winner == 'no' AND timestamp > "+f+") var['winner'] = 'no'; else bounce('suggested outcome not confirmed'); response['winner'] = trigger.data.winner; }"}]},{if:"{trigger.output[[asset!=base]] > 1000 AND var['winner'] AND trigger.output[[asset!=base]].asset == var[var['winner'] || '_asset']}",messages:[{app:"payment",payload:{asset:"base",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset!=base]] }"}]}}]}]}};return s.a.createElement(K,{title:"Deploy",page:"deploy"},s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:18},xl:{span:14}},s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:t.status,help:t.help},s.a.createElement(x.a,{placeholder:"Oracle",value:t.value,onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?l({value:a,status:"success",help:"",valid:!0}):l({value:a,status:"error",help:"Address is not valid",valid:!1})},size:"large"}))),s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement(x.a,{placeholder:"Feed name",value:i,onChange:function(e){u(e.target.value)},size:"large",maxLength:64}))),s.a.createElement(h.a,{xs:{span:24},md:{span:4,offset:2}},s.a.createElement(g.a.Item,null,s.a.createElement(P.a,{placeholder:"Comparison operator",className:ue.a.select,size:"large",onChange:function(e){v(e)}},s.a.createElement(de,{key:"more-1",value:">"},">"),s.a.createElement(de,{key:"less-2",value:"<"},"<"),s.a.createElement(de,{key:"equals-4",value:">="},">="),s.a.createElement(de,{key:"more-5",value:"<="},"<="),s.a.createElement(de,{key:"less-6",value:"=="},"="),s.a.createElement(de,{key:"equals-7",value:"!="},"!=")))),s.a.createElement(h.a,{xs:{span:24},md:{span:8,offset:2}},s.a.createElement(g.a.Item,null,s.a.createElement(x.a,{className:ue.a.input,size:"large",placeholder:"Feed value",maxLength:64,value:C,onChange:function(e){N(e.target.value)}})))),s.a.createElement(y.a,null,s.a.createElement(g.a.Item,null,s.a.createElement(re.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss",placeholder:"Expiration date",size:"large",onChange:function(e){var a=e.utc(!0).format("x");O(a)}}))),s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},sm:{span:12},md:{span:10},xxl:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",onClick:function(){var e=JSON.stringify(R).replace(/\n/g,"");oe()(e)},size:"large",disabled:!(t.value&&f&&i&&m&&C)},"Copy code to clipboard"))),s.a.createElement(h.a,{xs:{span:24},sm:{span:12},md:{span:10},xxl:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement("span",{onClick:function(){return T(!0)}},s.a.createElement("a",{className:"ant-btn ant-btn-lg",href:"byteball-tn:data?app=definition",target:"_blank",rel:"noopener noreferrer"},"Open deploy screen"))))))),s.a.createElement(B,{visible:D,onCancel:function(){return T(!1)}})))},me=function(){return s.a.createElement(c.a,{store:E},s.a.createElement(o.a,null,s.a.createElement(i.b,{exact:!0,path:"/"},s.a.createElement(le,null)),s.a.createElement(i.b,{exact:!0,path:"/add/:AA"},s.a.createElement(le,null)),s.a.createElement(i.b,{exact:!0,path:"/deploy"},s.a.createElement(pe,null))))};r.a.render(s.a.createElement(me,null),document.getElementById("root"))},77:function(e,a,t){e.exports={sider:"Sidebar_sider__3uFrQ",logo:"Sidebar_logo__2EIdY",logo__img:"Sidebar_logo__img__3Yeeu",brand:"Sidebar_brand__2-rjF",product:"Sidebar_product__1_2_U"}}},[[184,1,2]]]);
//# sourceMappingURL=main.9b82800d.chunk.js.map