(this["webpackJsonpoption-dapp"]=this["webpackJsonpoption-dapp"]||[]).push([[0],{116:function(e,a,t){e.exports={layout:"Layout_layout__2BEq3",content:"Layout_content__I06dq",wrap:"Layout_wrap__1sB59"}},147:function(e,a,t){e.exports={input:"Deploy_input__XSYn9",select:"Deploy_select__10pz6"}},169:function(e,a,t){e.exports={input:"ModalAddAA_input__25DBI"}},177:function(e,a,t){e.exports={select:"SelectAA_select__2jrBu"}},178:function(e,a,t){e.exports={SelectAaRow:"Main_SelectAaRow__Kylyk"}},184:function(e,a,t){e.exports=t(336)},336:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),l=t(4),r=t.n(l),c=t(26),o=t(71),i=t(57),u=(t(193),t(64)),d=t(168),p=t(180),m=t(66),_={list:[],active:null,activeInfo:null,activeBalance:{loading:!1},error:null},v=Object(u.c)({aa:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_AA":return Object(m.a)({},e,{list:[a.payload].concat(Object(p.a)(e.list))});case"ADD_AA_ERR":return Object(m.a)({},e,{error:!0});case"CHANGE_ACTIVE_AA":return Object(m.a)({},e,{active:a.payload.address,activeInfo:a.payload.aaVars,activeBalance:{loading:!1}});case"UPDATE_INFO_ACTIVE_AA":return Object(m.a)({},e,{activeInfo:a.payload.aaVars});case"GET_BALANCE_ACTIVE_AA":var t=a.payload.balance;return Object(m.a)({},e,{activeBalance:{loading:!0,yes_asset:e.activeInfo.yes_asset&&t[e.activeInfo.yes_asset]?t[e.activeInfo.yes_asset].stable:0,no_asset:e.activeInfo.no_asset&&t[e.activeInfo.no_asset]?t[e.activeInfo.no_asset].stable:0}});case"CLEAR_BALANCE_ACTIVE_AA":return Object(m.a)({},e,{activeBalance:{loading:!1}});default:return e}}}),f=Object(u.e)(v,Object(u.d)(Object(u.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),E=t(30),b=t(341),g=t(342),y=t(338),h=t(339),A=t(56),O=t(346),x=t(347),w=t(46),j=t.n(w),$=t(344),I=t(40),C=t.n(I),N=new j.a.Client("wss://obyte.org/bb-test",{testnet:!0});setInterval((function(){N.api.heartbeat()}),1e4);var S=N,k=function(e){return function(a){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.a.awrap(S.api.getAaStateVars({address:e}));case 3:t=n.sent,a({type:"CHANGE_ACTIVE_AA",payload:{address:e,aaVars:t}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},D=function(e){return function(a){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.a.awrap(S.api.getAaStateVars({address:e}));case 3:t=n.sent,a({type:"UPDATE_INFO_ACTIVE_AA",payload:{address:e,aaVars:t}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},T=t(169),V=t.n(T),z=function(e){var a=e.visible,t=e.onCancel,l=e.value,r=Object(c.b)(),o=Object(n.useState)({value:"",status:"",help:"",valid:!1}),u=Object(E.a)(o,2),d=u[0],p=u[1],m=Object(n.useState)(!1),_=Object(E.a)(m,2),v=_[0],f=_[1];Object(n.useEffect)((function(){l&&(j.a.utils.isValidAddress(l)?p({value:l,status:"success",help:"",valid:!0}):p({value:l,status:"error",help:"Address is not valid",valid:!1}))}),[l]);return s.a.createElement($.a,{title:"Add AA in dashboard",visible:a,onOk:function(){d.valid&&(r(function(e){return function(a){return C.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.awrap(S.api.getDefinition(e));case 2:if("autonomous agent"!==t.sent[0]){t.next=10;break}return t.next=6,C.a.awrap(a({type:"ADD_AA",payload:e}));case 6:return t.next=8,C.a.awrap(a(k(e)));case 8:t.next=11;break;case 10:a({type:"ADD_AA_ERR"});case 11:case"end":return t.stop()}}))}}(d.value)),t(),p({value:"",status:"",help:"",valid:!1}),f(!0))},onCancel:function(){t(),p({value:"",status:"",help:"",valid:!1})}},s.a.createElement(g.a,null,s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:d.status,help:d.help},s.a.createElement(x.a,{placeholder:"Your adress",onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?p({value:a,status:"success",help:"",valid:!0}):p({value:a,status:"error",help:"Address is not valid",valid:!1})},value:d.value,className:V.a.input,min:1e5,size:"large"}))),v&&s.a.createElement(i.a,{to:"/"}))},B=t(337),R=t(345),F=t(10),L=t(77),Y=t.n(L),U=B.a.Sider,H=[{key:"dashboard",icon:"control",title:"Dashboard",path:"/"},{key:"deploy",icon:"plus-circle",title:"Deploy AA",path:"/deploy"}],X=function(e){var a=e.active;return s.a.createElement(U,{breakpoint:"lg",collapsedWidth:"0",className:Y.a.sider},s.a.createElement("div",{className:Y.a.logo},s.a.createElement("img",{src:"/logo.png",className:Y.a.logo__img,alt:"Obyte"}),s.a.createElement("div",{className:Y.a.brand},"Obyte ",s.a.createElement("div",{className:Y.a.product},"Option contract"))),s.a.createElement(R.a,{theme:"light",defaultSelectedKeys:[a],onOpenChange:function(){return console.log("change")},onDeselect:function(){return console.log("change2")}},H.map((function(e){return s.a.createElement(R.a.Item,{key:e.key},s.a.createElement(o.b,{to:e.path,activeClassName:"selected"},s.a.createElement(F.a,{type:e.icon}),s.a.createElement("span",{className:"nav-text"},e.title)))}))))},q=t(116),G=t.n(q),M=B.a.Content,J=b.a.Title,K=function(e){var a=e.children,t=e.title,n=e.page;return s.a.createElement(B.a,{className:G.a.layout},s.a.createElement(X,{active:n}),s.a.createElement(B.a,null,s.a.createElement(M,{className:G.a.content},s.a.createElement("div",{className:G.a.wrap},s.a.createElement(J,{level:1},t),a))))},P=t(343),Q=t(177),W=t.n(Q),Z=P.a.Option,ee=function(){var e=Object(c.b)(),a=Object(c.c)((function(e){return e.aa.list})),t=Object(c.c)((function(e){return e.aa.active}));return s.a.createElement(P.a,{className:W.a.select,placeholder:"Select a AA",onChange:function(a){e(k(a))},value:t||0,size:"large"},s.a.createElement(Z,{key:"AA0",value:0,disabled:!0},"Select a AA"),a.map((function(e,a){return s.a.createElement(Z,{key:"AA"+a,value:e},e)})))},ae=!0,te=t(178),ne=t.n(te),se=b.a.Title,le=function(){var e=Object(n.useState)({value:"",status:"",help:"",valid:!1}),a=Object(E.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)({value:"",status:"",help:"",valid:!1}),o=Object(E.a)(r,2),u=o[0],d=o[1],p=Object(i.f)().AA,m=Object(n.useState)({visible:!!p,value:p||null}),_=Object(E.a)(m,2),v=_[0],f=_[1],b=Object(c.b)(),w=Object(c.c)((function(e){return e.aa.active})),$=Object(c.c)((function(e){return e.aa.activeInfo})),I=Object(c.c)((function(e){return e.aa.activeBalance}));return Object(n.useEffect)((function(){if(w){var e=setInterval((function(){return b(D(w))}),1e4);return function(){clearInterval(e)}}}),[w,b]),s.a.createElement(K,{title:"Dashboard",page:"dashboard"},s.a.createElement(g.a,null,s.a.createElement(y.a,{className:ne.a.SelectAaRow},s.a.createElement(h.a,{xs:{span:24},md:{span:12}},s.a.createElement(g.a.Item,null,s.a.createElement(ee,null))),s.a.createElement(h.a,{xs:{span:24,push:0},md:{span:12,push:1}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",icon:"plus",size:"large",onClick:function(){return f({visible:!0})}},"Add"))))),w&&s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:10}},s.a.createElement(se,{level:2},"Investment"),s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},lg:{span:16}},s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:t.status,help:t.help},s.a.createElement(O.a,{placeholder:"Amount byte (>100k)",onChange:function(e){e<1e5?l({value:e,status:"error",help:"The minimum amount is 100,000 bytes",valid:!1}):$.winner?l({value:e,status:"error",help:"the winner has been chosen",valid:!1}):$.yes_asset?$.no_asset?l({value:e,status:"success",help:"",valid:!0}):l({value:e,status:"error",help:"no_asset has not been created",valid:!1}):l({value:e,status:"error",help:"yes_asset has not been created",valid:!1})},value:t.value,style:{width:"100%"},min:1e5,size:"large"}))),s.a.createElement(h.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(g.a.Item,{onClick:function(){return console.log("form click")}},s.a.createElement("a",{type:"primary",disabled:!(t.valid&&w),size:"large",href:"byteball".concat(ae?"-tn":"",":").concat(w,"?amount=").concat(t.value,"&amp;asset=base"),target:"_blank",rel:"noopener noreferrer",className:"ant-btn ant-btn-primary ant-btn-lg"},"Next")))))),s.a.createElement(h.a,{xs:{span:24},md:{span:12,push:2}},s.a.createElement(se,{level:2},"Redemption"),s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},lg:{span:16}},s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:u.status,help:u.help},s.a.createElement(x.a,{placeholder:"Your adress",onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?d({value:a,status:"success",help:"",valid:!0}):d({value:a,status:"error",help:"Address is not valid",valid:!1})},value:u.value,style:{width:"100%"},min:1e5,size:"large"}))),s.a.createElement(h.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",size:"large",disabled:!(u.valid&&w),onClick:function(){var e;b((e=u.value,function(a){var t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.a.awrap(S.api.getBalances([e]));case 3:t=n.sent,a({type:"GET_BALANCE_ACTIVE_AA",payload:{balance:t[e],address:e}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),b(D(w))}},"Search")))),s.a.createElement(y.a,null,u.valid&&I.loading&&s.a.createElement("div",{style:{backgroundColor:"#F0F2F5",wordBreak:"break-all",padding:25,borderRadius:5,fontSize:18}},s.a.createElement(y.a,null,s.a.createElement("b",null,"winner: "),$.winner?$.winner+"_asset":"the winner has not yet been chosen"),s.a.createElement(y.a,null,s.a.createElement("b",null,"no_asset: "),$.no_asset?$.no_asset:"yes_asset has not been created"),s.a.createElement(y.a,null,s.a.createElement("b",null,"yes_asset: "),$.yes_asset?$.yes_asset:"yes_asset has not been created"),s.a.createElement(y.a,null,s.a.createElement("b",null,"your balance of yes_asset: "),I.yes_asset?I.yes_asset:"0"),s.a.createElement(y.a,null,s.a.createElement("b",null,"your balance of no_asset: "),I.no_asset?I.no_asset:"0"),s.a.createElement(y.a,{style:{marginTop:15}},$.winner&&I[$.winner+"_asset"]>0&&s.a.createElement("a",{type:"primary",size:"large",href:"byteball".concat(ae?"-tn":"",":").concat(w,"?amount=").concat(I[$.winner+"_asset"],"&amp;&asset=").concat(encodeURIComponent($[$.winner+"_asset"])),target:"_blank",rel:"noopener noreferrer",className:"ant-btn ant-btn-lg"},"Exchange for bytes"))))))),s.a.createElement(z,{visible:v.visible,value:v.value,onCancel:function(){return f(!1)}}))},re=t(340),ce=t(111),oe=t.n(ce),ie=t(12),ue=t.n(ie),de=t(147),pe=t.n(de),me=P.a.Option,_e=function(){var e=Object(n.useState)({value:"",status:"",help:"",valid:!1}),a=Object(E.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(""),o=Object(E.a)(r,2),i=o[0],u=o[1],d=Object(n.useState)(""),p=Object(E.a)(d,2),m=p[0],_=p[1],v=Object(n.useState)(""),f=Object(E.a)(v,2),b=f[0],O=f[1],w=Object(n.useState)(""),$=Object(E.a)(w,2),I=$[0],C=$[1],N=Object(n.useState)(!1),S=Object(E.a)(N,2),k=S[0],D=S[1],T=Object(c.b)();Object(n.useEffect)((function(){T({type:"CLEAR_BALANCE_ACTIVE_AA"})}),[T]);var V,B={init:"{$oracle_address = '"+t.value+"'; $feed_name = '"+i+"'; $comparison = '"+m+"'; $expiry_date = '"+b+"'; $feed_value = "+(V=I,/^-{0,1}\d+$/.test(V)?V:"'".concat(V,"'"))+"; }",messages:{cases:[{if:"{$define_yes = trigger.data.define_yes AND !var['yes_asset']; $define_no = trigger.data.define_no AND !var['no_asset']; if ($define_yes AND $define_no) bounce('Cant define both assets at the same time!');$define_yes OR $define_no}",messages:[{app:"asset",payload:{is_private:!1,is_transferrable:!0,auto_destroy:!1,fixed_denominations:!1,issued_by_definer_only:!0,cosigned_by_definer:!1,spender_attested:!1}},{app:"state",state:"{ $asset = $define_yes ? 'yes_asset' : 'no_asset'; var[$asset] = response_unit; response[$asset] = response_unit; }"}]},{if:"{trigger.output[[asset=base]] >= 1e5 AND var['yes_asset'] AND var['no_asset']}",messages:[{app:"payment",payload:{asset:"{var['yes_asset']}",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset=base]] }"}]}},{app:"payment",payload:{asset:"{var['no_asset']}",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset=base]] }"}]}}]},{if:"{exists(trigger.data.winner) AND (trigger.data.winner == 'yes' OR trigger.data.winner == 'no') AND !var['winner']}",messages:[{app:"state",state:"{if ($comparison == '>') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] > $feed_value; else if ($comparison == '<') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] < $feed_value; else if ($comparison == '!=') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] != $feed_value; else if ($comparison == '==') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] == $feed_value; else if ($comparison == '>=') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] >= $feed_value; else if ($comparison == '<=') $datafeed_value = data_feed[[oracles=$oracle_address, feed_name=$feed_name]] <= $feed_value; else bounce('Comparison operator not found'); if (trigger.data.winner == 'yes' AND  $datafeed_value) var['winner'] = 'yes'; else if (trigger.data.winner == 'no' AND timestamp > parse_date($expiry_date)) var['winner'] = 'no'; else bounce('suggested outcome not confirmed'); response['winner'] = trigger.data.winner; }"}]},{if:"{trigger.output[[asset!=base]] > 1000 AND var['winner'] AND trigger.output[[asset!=base]].asset == var[var['winner'] || '_asset']}",messages:[{app:"payment",payload:{asset:"base",outputs:[{address:"{trigger.address}",amount:"{ trigger.output[[asset!=base]] }"}]}}]}]}};return s.a.createElement(K,{title:"Deploy",page:"deploy"},s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:18},xl:{span:14}},s.a.createElement(g.a,null,s.a.createElement(y.a,null,s.a.createElement(g.a.Item,{hasFeedback:!0,validateStatus:t.status,help:t.help},s.a.createElement(x.a,{placeholder:"Oracle",value:t.value,onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?l({value:a,status:"success",help:"",valid:!0}):l({value:a,status:"error",help:"Address is not valid",valid:!1})},size:"large"}))),s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},md:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement(x.a,{placeholder:"Feed name",value:i,onChange:function(e){u(e.target.value)},size:"large",maxLength:64}))),s.a.createElement(h.a,{xs:{span:24},md:{span:4,offset:2}},s.a.createElement(g.a.Item,null,s.a.createElement(P.a,{placeholder:"Comparison operator",className:pe.a.select,size:"large",onChange:function(e){_(e)}},s.a.createElement(me,{key:"more-1",value:">"},">"),s.a.createElement(me,{key:"less-2",value:"<"},"<"),s.a.createElement(me,{key:"equals-4",value:">="},">="),s.a.createElement(me,{key:"more-5",value:"<="},"<="),s.a.createElement(me,{key:"less-6",value:"=="},"="),s.a.createElement(me,{key:"equals-7",value:"!="},"!=")))),s.a.createElement(h.a,{xs:{span:24},md:{span:8,offset:2}},s.a.createElement(g.a.Item,null,s.a.createElement(x.a,{className:pe.a.input,size:"large",placeholder:"Feed value",maxLength:64,value:I,onChange:function(e){C(e.target.value)}})))),s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},sm:{span:16},md:{span:12}},s.a.createElement(g.a.Item,null,s.a.createElement(re.a,{showTime:{defaultValue:ue()("00:00:00","H:mm")},format:"YYYY-DD-MM HH:mm:ss",placeholder:"Expiration date (UTC)",size:"large",style:{width:"100%"},onChange:function(e){var a=e.utc(!0).toISOString();O(a)},allowClear:!1})))),s.a.createElement(y.a,null,s.a.createElement(h.a,{xs:{span:24},sm:{span:12},md:{span:10},xxl:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement(A.a,{type:"primary",onClick:function(){var e=JSON.stringify(B,null,"\t");oe()(e)},size:"large",disabled:!(t.valid&&b&&i&&m&&I)},"Copy code to clipboard"))),s.a.createElement(h.a,{xs:{span:24},sm:{span:12},md:{span:10},xxl:{span:8}},s.a.createElement(g.a.Item,null,s.a.createElement("span",{onClick:function(){return D(!0)}},s.a.createElement("a",{className:"ant-btn ant-btn-lg",href:"byteball-tn:data?app=definition",target:"_blank",rel:"noopener noreferrer"},"Open deploy screen"))))))),s.a.createElement(z,{visible:k,onCancel:function(){return D(!1)}})))},ve=function(){return s.a.createElement(c.a,{store:f},s.a.createElement(o.a,null,s.a.createElement(i.b,{exact:!0,path:"/"},s.a.createElement(le,null)),s.a.createElement(i.b,{exact:!0,path:"/add/:AA"},s.a.createElement(le,null)),s.a.createElement(i.b,{exact:!0,path:"/deploy"},s.a.createElement(_e,null))))};r.a.render(s.a.createElement(ve,null),document.getElementById("root"))},77:function(e,a,t){e.exports={sider:"Sidebar_sider__3uFrQ",logo:"Sidebar_logo__2EIdY",logo__img:"Sidebar_logo__img__3Yeeu",brand:"Sidebar_brand__2-rjF",product:"Sidebar_product__1_2_U"}}},[[184,1,2]]]);
//# sourceMappingURL=main.bf6c4b7b.chunk.js.map