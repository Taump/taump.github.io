(this["webpackJsonpoption-dapp"]=this["webpackJsonpoption-dapp"]||[]).push([[0],{132:function(e,a,t){e.exports={layout:"Layout_layout__2BEq3",content:"Layout_content__I06dq",wrap:"Layout_wrap__1sB59"}},215:function(e,a,t){e.exports={select:"SelectAA_select__2jrBu"}},216:function(e,a,t){e.exports={SelectAaRow:"Main_SelectAaRow__Kylyk"}},223:function(e,a,t){e.exports={SelectAaRow:"IssuingAssets_SelectAaRow__3U6se",alertWrap:"IssuingAssets_alertWrap__VqgAj"}},228:function(e,a,t){e.exports=t(432)},432:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(5),l=t.n(r),c=t(17),o=t(85),i=t(61),u=(t(237),t(72)),d=t(211),m=t(135),p=t(36),f={listByBase:[],listByBaseLoaded:[],subscriptions:[],active:null,activeInfo:null,activeBalance:{loading:!1},activeAssetsRequest:{},notifications:[],isViewedNotifications:!0,error:null},E=Object(u.c)({aa:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_ACTIVE_AA":return Object(p.a)({},e,{active:a.payload.address,activeInfo:a.payload.aaVars,activeBalance:{loading:!1},activeAssetsRequest:{}});case"UPDATE_INFO_ACTIVE_AA":return Object(p.a)({},e,{activeInfo:a.payload.aaVars});case"GET_BALANCE_ACTIVE_AA":var t=a.payload.balance;return Object(p.a)({},e,{activeBalance:{loading:!0,yes_asset:e.activeInfo.yes_asset&&t[e.activeInfo.yes_asset]?t[e.activeInfo.yes_asset].stable:0,no_asset:e.activeInfo.no_asset&&t[e.activeInfo.no_asset]?t[e.activeInfo.no_asset].stable:0}});case"CLEAR_BALANCE_ACTIVE_AA":return Object(p.a)({},e,{activeBalance:{loading:!1}});case"LOAD_AA_LIST_REQUEST":return Object(p.a)({},e,{listByBaseLoaded:!1});case"LOAD_AA_LIST_SUCCESS":return Object(p.a)({},e,{listByBase:a.payload,listByBaseLoaded:!0});case"ADD_AA_NOTIFICATION":if(a.payload.AA===e.active){var n={};return"req_yes"===a.payload.tag?n.yes_asset=!0:"req_no"===a.payload.tag&&(n.no_asset=!0),Object(p.a)({},e,{notifications:[a.payload].concat(Object(m.a)(e.notifications)),activeAssetsRequest:Object(p.a)({},e.activeAssetsRequest,{},n),isViewedNotifications:!1})}return Object(p.a)({},e,{notifications:[a.payload].concat(Object(m.a)(e.notifications)),isViewedNotifications:!1});case"VIEWED_NOTIFICATION":return Object(p.a)({},e,{isViewedNotifications:!0});case"LOADING_NOTIFICATION":return Object(p.a)({},e,{notifications:a.payload});case"SUBSCRIBE_AA":return Object(p.a)({},e,{subscriptions:[].concat(Object(m.a)(e.subscriptions),[a.payload])});case"CLEAR_SUBSCRIBE_AA":return Object(p.a)({},e,{subscriptions:[]});default:return e}}}),y=Object(u.e)(E,Object(u.d)(Object(u.a)(d.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),b=t(23),_=t(441),v=t(440),h=t(434),g=t(435),A=t(41),O=t(443),x=t(445),I=t(442),w=t(82),j=t.n(w),S=t(97),C=t.n(S),N=t(433),k=t(171),T=t(4),B=t(88),L=t.n(B),R=N.a.Sider,D=[{key:"dashboard",icon:"control",title:"Dashboard",path:"/"},{key:"deploy",icon:"plus-circle",title:"Deploy AA",path:"/deploy"},{key:"search",icon:"search",title:"Search AA",path:"/search"},{key:"issuing_assets",icon:"setting",title:"Issuing assets",path:"/issuing_assets"},{key:"notifications",icon:"bell",title:"Notifications",path:"/notifications"}],V=function(e){var a=e.active,t=Object(c.c)((function(e){return e.aa.isViewedNotifications}));return s.a.createElement(R,{breakpoint:"lg",collapsedWidth:"0",className:L.a.sider},s.a.createElement("div",{className:L.a.logo},s.a.createElement("img",{src:"/logo.png",className:L.a.logo__img,alt:"Obyte"}),s.a.createElement("div",{className:L.a.brand},"Obyte ",s.a.createElement("div",{className:L.a.product},"Option contract"))),s.a.createElement(k.a,{theme:"light",defaultSelectedKeys:[a]},D.map((function(e){return s.a.createElement(k.a.Item,{key:e.key},s.a.createElement(o.c,{to:e.path,activeClassName:"selected"},s.a.createElement(T.a,{type:e.icon,theme:"notifications"===e.key?"filled":"outlined",style:"notifications"!==e.key||t?{color:"ccc"}:{color:"red"}}),s.a.createElement("span",{className:"nav-text"},e.title)))}))))},F=t(132),U=t.n(F),Y=N.a.Content,q=_.a.Title,z=function(e){var a=e.children,t=e.title,n=e.page;return s.a.createElement(N.a,{className:U.a.layout},s.a.createElement(V,{active:n}),s.a.createElement(N.a,null,s.a.createElement(Y,{className:U.a.content},s.a.createElement("div",{className:U.a.wrap},s.a.createElement(q,{level:1},t),a))))},W=t(22),G=t.n(W),M=t(446),H=new j.a.Client("wss://obyte.org/bb-test",{testnet:!0,reconnect:!0});setInterval((function(){H.api.heartbeat()}),1e4);var J=H,X=!0,P="RJR5L6YGZWGUYRQTCOSGWAFB2ZJAZHYH",K=t(49),Q={createObjectNotification:{res:function(e,a){var t=e.aa_address;if(Object(K.isEmpty)(e.response)){if(e.objResponseUnit){var n=e.objResponseUnit;if(!n.messages)return;var s=n.messages;if(a.yes_asset&&a.no_asset)if(s[0]&&s[0].payload&&s[0].payload.asset===a.yes_asset&&s[1]&&s[1].payload&&s[1].payload.asset===a.no_asset){if(s[0].payload.inputs&&s[0].payload.inputs[0]&&"issue"===s[0].payload.inputs[0].type&&s[1].payload.inputs&&s[1].payload.inputs[0]&&"issue"===s[1].payload.inputs[0].type){var r=s[0].payload.inputs[0].amount;return{AA:t,title:"".concat(e.trigger_address," invested ").concat(r," bytes"),tag:"res_invest"}}}else if(s[0]&&s[0].payload.inputs&&"unit"in s[0].payload.inputs[0]&&"unit"in s[0].payload.inputs[1])return{AA:t,title:"".concat(e.trigger_address," bought ").concat(s[0].payload.outputs[0].amount," bytes"),tag:"res_invest"}}}else{var l=e.response;if(!l.responseVars)return"error"in l?{AA:t,title:l.error,tag:"error"}:void 0;var c=l.responseVars;if("yes_asset"in c)return{AA:t,title:"Yes_asset was issued",tag:"res_yes"};if("no_asset"in c)return{AA:t,title:"No_asset was issued",tag:"res_no"};if("winner"in c)return{AA:t,title:"".concat(c.winner,"_asset was chosen as the winner"),tag:"res_winner"}}},req:function(e){if(e.body.messages[0].payload&&e.body.messages[1]&&e.body.messages[1].payload){var a=e.body.messages,t=a[0].payload,n=a[1].payload.outputs[1].address;return"define_yes"in t?{AA:n,title:"Request for issue yes_asset",tag:"req_yes"}:"define_no"in t?{AA:n,title:"Request for issue no_asset",tag:"req_no"}:"winner"in t?{AA:n,title:"Request to select a winner",tag:"req_winner"}:void 0}}},toNumericValue:function(e){return/^-{0,1}\d+$/.test(e)&&e<=Number.MAX_SAFE_INTEGER?e:"'".concat(e,"'")}},Z=Q.createObjectNotification,$=function(){return function(e){var a;return G.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.a.awrap(e({type:"LOAD_AA_LIST_REQUEST"}));case 3:return t.next=5,G.a.awrap(J.api.getAasByBaseAas({base_aa:P}));case 5:return a=t.sent,t.next=8,G.a.awrap(e({type:"LOAD_AA_LIST_SUCCESS",payload:a||[]}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error",t.t0);case 13:case"end":return t.stop()}}),null,null,[[0,10]])}},ee=function(e){return function(a,t){var n,s,r,l;return G.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,G.a.awrap(J.api.getAaStateVars({address:e}));case 3:return n=c.sent,c.next=6,G.a.awrap(a({type:"CHANGE_ACTIVE_AA",payload:{address:e,aaVars:n}}));case 6:return s=t(),r=s.aa.subscriptions,l=r.filter((function(a){return a===e})).length>0,c.next=11,G.a.awrap(a(ne(e)));case 11:if(l){c.next=14;break}return c.next=14,G.a.awrap(a(se(e)));case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(0),console.log("error",c.t0);case 19:case"end":return c.stop()}}),null,null,[[0,16]])}},ae=function(e){return function(a){var t;return G.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.a.awrap(J.api.getAaStateVars({address:e}));case 3:t=n.sent,a({type:"UPDATE_INFO_ACTIVE_AA",payload:{address:e,aaVars:t}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},te=function(e,a){M.a.open({message:e,description:a,style:{minWidth:350}})},ne=function(e){return function(a){var t,n,s;return G.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G.a.awrap(J.api.getAaResponses({aa:e}));case 2:return t=r.sent,r.next=5,G.a.awrap(J.api.getAaStateVars({address:e}));case 5:return n=r.sent,s=[],r.next=9,G.a.awrap(t.forEach((function(e){var a=Z.res(e,n);a&&s.push(a)})));case 9:return r.next=11,G.a.awrap(a({type:"LOADING_NOTIFICATION",payload:s}));case 11:case"end":return r.stop()}}))}},se=function(e){return function(a){return G.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.awrap(J.justsaying("light/new_aa_to_watch",{aa:e}));case 2:return t.next=4,G.a.awrap(a({type:"SUBSCRIBE_AA",payload:e}));case 4:case"end":return t.stop()}}))}},re=t(100),le=t(215),ce=t.n(le),oe=re.a.Option,ie=function(e){var a=Object(c.b)(),t=Object(c.c)((function(e){return e.aa.listByBase})),n=Object(c.c)((function(e){return e.aa.active})),r=Object(c.c)((function(e){return e.aa.listByBaseLoaded})),l={length:13};return s.a.createElement(re.a,Object.assign({className:ce.a.select,placeholder:"Select a AA",onChange:function(e){a(ee(e))},value:n||0,size:"large",loading:!r,showSearch:!0,onDropdownVisibleChange:function(){return a($())}},e),s.a.createElement(oe,{key:"AA0",value:0,disabled:!0},"Select a AA"),t.map((function(e,a){var t=e.definition[1].params,n=t.feed_name,r=t.comparison,c=t.expiry_date,o=t.feed_value;return s.a.createElement(oe,{key:"AA"+a,value:e.address},Object(K.truncate)(n,l)+" "+r+" "+Object(K.truncate)(o,l)," ","on ",c," (",e.address,")")})))},ue=t(216),de=t.n(ue),me=_.a.Title,pe=function(e){var a=Object(n.useState)({value:"",status:"",help:"",valid:!1}),t=Object(b.a)(a,2),r=t[0],l=t[1],o=Object(n.useState)({value:"",status:"",help:"",valid:!1}),i=Object(b.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(b.a)(m,2),f=p[0],E=p[1],y=Object(c.b)(),_=Object(c.c)((function(e){return e.aa.active})),w=Object(c.c)((function(e){return e.aa.activeInfo})),S=Object(c.c)((function(e){return e.aa.activeBalance})),N={winner:"yes"},k={winner:"no"},T=JSON.stringify(N),B=JSON.stringify(k),L=C()(T),R=C()(B),D=function(){var e;y((e=u.value,function(a){var t;return G.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.a.awrap(J.api.getBalances([e]));case 3:t=n.sent,a({type:"GET_BALANCE_ACTIVE_AA",payload:{balance:t[e],address:e}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("error",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]])})),y(ae(_))};return s.a.createElement(z,{title:"Dashboard",page:"dashboard"},s.a.createElement(v.a,null,s.a.createElement(h.a,{className:de.a.SelectAaRow},s.a.createElement(g.a,{xs:{span:24},md:{span:12}},s.a.createElement(v.a.Item,null,s.a.createElement(ie,{autoFocus:!0}))),s.a.createElement(g.a,{xs:{span:24,push:0},md:{span:11,push:1}},s.a.createElement(v.a.Item,null,_&&!w.winner&&s.a.createElement(A.a,{type:"default",size:"large",onClick:function(){return E(!0)}},"Choose a winner"))))),_&&s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:10}},s.a.createElement(me,{level:2},"Investment"),s.a.createElement(v.a,null,s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},lg:{span:16}},s.a.createElement(v.a.Item,{hasFeedback:!0,validateStatus:r.status,help:r.help},s.a.createElement(O.a,{placeholder:"Amount byte (>100k)",onChange:function(e){e<1e5?l({value:e,status:"error",help:"The minimum amount is 100,000 bytes",valid:!1}):w.winner?l({value:e,status:"error",help:"the winner has been chosen",valid:!1}):w.yes_asset?w.no_asset?l({value:e,status:"success",help:"",valid:!0}):l({value:e,status:"error",help:"no_asset has not been created",valid:!1}):l({value:e,status:"error",help:"yes_asset has not been created",valid:!1})},value:r.value,style:{width:"100%"},min:1e5,size:"large"}))),s.a.createElement(g.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(v.a.Item,null,s.a.createElement("a",{type:"primary",disabled:!(r.valid&&_),href:"byteball".concat(X?"-tn":"",":").concat(_,"?amount=").concat(r.value,"&amp;asset=base"),className:"ant-btn ant-btn-primary ant-btn-lg"},"Next")))))),s.a.createElement(g.a,{xs:{span:24},md:{span:12,push:2}},s.a.createElement(me,{level:2},"Redemption"),s.a.createElement(v.a,null,s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},lg:{span:16}},s.a.createElement(v.a.Item,{hasFeedback:!0,validateStatus:u.status,help:u.help},s.a.createElement(x.a,{placeholder:"Your address",onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?d({value:a,status:"success",help:"",valid:!0}):d({value:a,status:"error",help:"Address is not valid",valid:!1})},value:u.value,style:{width:"100%"},min:1e5,size:"large",onKeyPress:function(e){"Enter"===e.key&&u.valid&&_&&D()}}))),s.a.createElement(g.a,{xs:{span:24,push:0},lg:{span:7,push:1}},s.a.createElement(v.a.Item,null,s.a.createElement(A.a,{type:"primary",size:"large",disabled:!(u.valid&&_),onClick:D},"Search")))),s.a.createElement(h.a,null,u.valid&&S.loading&&s.a.createElement("div",{style:{backgroundColor:"#F0F2F5",wordBreak:"break-all",padding:25,borderRadius:5,fontSize:18}},s.a.createElement(h.a,null,s.a.createElement("b",null,"winner: "),w.winner?w.winner+"_asset":"the winner has not yet been chosen"),s.a.createElement(h.a,null,s.a.createElement("b",null,"no_asset: "),w.no_asset?w.no_asset:"yes_asset has not been created"),s.a.createElement(h.a,null,s.a.createElement("b",null,"yes_asset: "),w.yes_asset?w.yes_asset:"yes_asset has not been created"),s.a.createElement(h.a,null,s.a.createElement("b",null,"your balance of yes_asset: "),S.yes_asset?S.yes_asset:"0"),s.a.createElement(h.a,null,s.a.createElement("b",null,"your balance of no_asset: "),S.no_asset?S.no_asset:"0"),s.a.createElement(h.a,{style:{marginTop:15}},w.winner&&S[w.winner+"_asset"]>0&&s.a.createElement("a",{type:"primary",href:"byteball".concat(X?"-tn":"",":").concat(_,"?amount=").concat(S[w.winner+"_asset"],"&amp;&asset=").concat(encodeURIComponent(w[w.winner+"_asset"])),className:"ant-btn ant-btn-lg"},"Exchange for bytes"))))))),s.a.createElement(I.a,{visible:f,footer:null,title:"Choose a winner",onCancel:function(){return E(!1)}},s.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},s.a.createElement("a",{href:"byteball".concat(X?"-tn":"",":").concat(_,"?amount=10000&base64data=").concat(L),className:"ant-btn ant-btn-primary ant-btn-lg"},"yes_asset"),s.a.createElement("a",{href:"byteball".concat(X?"-tn":"",":").concat(_,"?amount=10000&base64data=").concat(R),className:"ant-btn ant-btn-primary ant-btn-lg"},"no_asset"))))},fe=t(436),Ee=t(439),ye=t(12),be=t.n(ye),_e=t(73),ve=t.n(_e),he=re.a.Option,ge=Q.toNumericValue,Ae=function(){var e=Object(n.useState)({value:"",status:"",help:"",valid:!1}),a=Object(b.a)(e,2),t=a[0],r=a[1],l=Object(n.useState)(""),o=Object(b.a)(l,2),i=o[0],u=o[1],d=Object(n.useState)(""),m=Object(b.a)(d,2),p=m[0],f=m[1],E=Object(n.useState)(""),y=Object(b.a)(E,2),_=y[0],A=y[1],O=Object(n.useState)(""),I=Object(b.a)(O,2),w=I[0],S=I[1],C=Object(c.b)();Object(n.useEffect)((function(){C({type:"CLEAR_BALANCE_ACTIVE_AA"})}),[C]);var N="{\nbase_aa: '".concat(P,"',\nparams: {\n\tcomparison: '").concat(p,"', \n\toracle_address: '").concat(t.value,"',\n\tfeed_name: '").concat(i,"',\n\texpiry_date: '").concat(_,"',\n\tfeed_value: ").concat(ge(w),"\n\t}\n}");return s.a.createElement(z,{title:"Deploy",page:"deploy"},s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:18},xl:{span:14}},s.a.createElement(v.a,null,s.a.createElement(h.a,{className:ve.a.alertWrap},s.a.createElement(fe.a,{message:"After the deployment, go to the settings for issue assets",type:"warning"})),s.a.createElement(h.a,null,s.a.createElement(v.a.Item,{hasFeedback:!0,validateStatus:t.status,help:t.help},s.a.createElement(x.a,{placeholder:"Oracle",value:t.value,onChange:function(e){var a=e.target.value;j.a.utils.isValidAddress(a)?r({value:a,status:"success",help:"",valid:!0}):r({value:a,status:"error",help:"Address is not valid",valid:!1})},size:"large",autoFocus:!0}))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:8}},s.a.createElement(v.a.Item,null,s.a.createElement(x.a,{placeholder:"Feed name",value:i,onChange:function(e){u(e.target.value)},size:"large",maxLength:64}))),s.a.createElement(g.a,{xs:{span:24},md:{span:4,offset:2}},s.a.createElement(v.a.Item,null,s.a.createElement(re.a,{placeholder:"Comparison operator",className:ve.a.select,size:"large",onChange:function(e){f(e)}},s.a.createElement(he,{key:"more-1",value:">"},">"),s.a.createElement(he,{key:"less-2",value:"<"},"<"),s.a.createElement(he,{key:"equals-4",value:">="},">="),s.a.createElement(he,{key:"more-5",value:"<="},"<="),s.a.createElement(he,{key:"less-6",value:"=="},"="),s.a.createElement(he,{key:"equals-7",value:"!="},"!=")))),s.a.createElement(g.a,{xs:{span:24},md:{span:8,offset:2}},s.a.createElement(v.a.Item,null,s.a.createElement(x.a,{className:ve.a.input,size:"large",placeholder:"Feed value",maxLength:64,value:w,onChange:function(e){S(e.target.value)}})))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},sm:{span:16},md:{span:12}},s.a.createElement(v.a.Item,null,s.a.createElement(Ee.a,{showTime:{defaultValue:be()("00:00:00","H:mm")},format:"YYYY-DD-MM",placeholder:"Expiration date (UTC)",size:"large",style:{width:"100%"},onChange:function(e){var a=e.utc(!0).format("YYYY-DD-MM");A(a)},allowClear:!1})))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},sm:{span:12},md:{span:10},xxl:{span:8}},s.a.createElement(v.a.Item,null,s.a.createElement("a",{className:"ant-btn ant-btn-lg",disabled:!(t.valid&&_&&i&&p&&w),href:"byteball-tn:data?app=definition&definition=".concat(encodeURIComponent(N))},"Open deploy screen"))))))))},Oe=t(444),xe=t(447),Ie=t(223),we=t.n(Ie),je=Oe.a.Step,Se=function(){var e,a=Object(c.c)((function(e){return e.aa.active})),t=Object(c.c)((function(e){return e.aa.activeInfo})),n=Object(c.c)((function(e){return e.aa.activeAssetsRequest})),r=(e=t)&&(e.yes_asset||n.yes_asset)?e.no_asset||n.no_asset?2:1:0,l=[],i=0===r?{define_yes:1}:{define_no:1},u=JSON.stringify(i),d=C()(u);return l[0]=s.a.createElement(xe.a,{icon:s.a.createElement(T.a,{type:"loading"}),title:"Issue yes_asset",subTitle:"Once the asset is stable, you will go to the next step",extra:s.a.createElement("a",{href:"byteball".concat(X?"-tn":"",":").concat(a,"?amount=10000&base64data=").concat(d),className:"ant-btn ant-btn-primary ant-btn-lg"},"Issue")}),l[1]=s.a.createElement(xe.a,{icon:s.a.createElement(T.a,{type:"loading"}),title:"Issue no_asset",subTitle:"Once the asset is stable, you will go to the next step",extra:s.a.createElement("a",{href:"byteball".concat(X?"-tn":"",":").concat(a,"?amount=10000&base64data=").concat(d),className:"ant-btn ant-btn-primary ant-btn-lg"},"Issue")}),l[2]=s.a.createElement(xe.a,{status:"success",title:"Autonomous agent successfully configured",extra:s.a.createElement(o.b,{to:"/",className:"ant-btn ant-btn-primary ant-btn-lg"},"Go dashboard")}),s.a.createElement(z,{title:"Issuing Assets",page:"issuing_assets"},s.a.createElement(h.a,{className:we.a.SelectAaRow},s.a.createElement(v.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:12}},s.a.createElement(v.a.Item,null,s.a.createElement(ie,{autoFocus:!0}))))),a&&s.a.createElement("div",null,s.a.createElement(Oe.a,{current:r},s.a.createElement(je,{title:"yes_asset",description:""}),s.a.createElement(je,{title:"no_asset",description:""}),s.a.createElement(je,{title:"Finish",description:""})),s.a.createElement(h.a,null,l[r])))},Ce=t(437),Ne=t(438),ke=re.a.Option,Te=function(e){var a=Object(n.useState)(""),t=Object(b.a)(a,2),r=t[0],l=t[1],c=Object(n.useState)(""),o=Object(b.a)(c,2),i=o[0],u=o[1],d=Object(n.useState)(""),m=Object(b.a)(d,2),p=m[0],f=m[1],E=Object(n.useState)(""),y=Object(b.a)(E,2),_=y[0],O=y[1],I=Object(n.useState)(""),w=Object(b.a)(I,2),j=w[0],S=w[1];return s.a.createElement(v.a,{onKeyDown:function(a){return 13===a.keyCode&&e.handleChangeSearchFormAA({feed_name:i,feed_value:j,expiry_date:_,comparison:p,oracle:r})}},s.a.createElement(h.a,null,s.a.createElement(v.a.Item,null,s.a.createElement(x.a,{placeholder:"Oracle",value:r,onChange:function(e){var a=e.target.value;l(a)},size:"large",autoFocus:!0}))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:8}},s.a.createElement(v.a.Item,null,s.a.createElement(x.a,{placeholder:"Feed name",value:i,onChange:function(e){u(e.target.value)},size:"large",maxLength:64}))),s.a.createElement(g.a,{xs:{span:24},md:{span:4,offset:2}},s.a.createElement(v.a.Item,null,s.a.createElement(re.a,{placeholder:"Comparison operator",className:ve.a.select,size:"large",onChange:function(e){f(e)}},s.a.createElement(ke,{key:"more-1",value:">"},">"),s.a.createElement(ke,{key:"less-2",value:"<"},"<"),s.a.createElement(ke,{key:"equals-4",value:">="},">="),s.a.createElement(ke,{key:"more-5",value:"<="},"<="),s.a.createElement(ke,{key:"less-6",value:"=="},"="),s.a.createElement(ke,{key:"equals-7",value:"!="},"!=")))),s.a.createElement(g.a,{xs:{span:24},md:{span:8,offset:2}},s.a.createElement(v.a.Item,null,s.a.createElement(x.a,{className:ve.a.input,size:"large",placeholder:"Feed value",maxLength:64,value:j,onChange:function(e){S(e.target.value)}})))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},sm:{span:16},md:{span:12}},s.a.createElement(v.a.Item,null,s.a.createElement(Ee.a,{showTime:{defaultValue:be()("00:00:00","H:mm")},format:"YYYY-DD-MM",placeholder:"Expiration date (UTC)",size:"large",style:{width:"100%"},onChange:function(e){var a=e.utc(!0).format("YYYY-DD-MM");O(a)},allowClear:!1})))),s.a.createElement(h.a,null,s.a.createElement(v.a.Item,null,s.a.createElement(A.a,{onClick:function(){e.handleChangeSearchFormAA({feed_name:i,feed_value:j,expiry_date:_,comparison:p,oracle:r})}},"Search"))))},Be=function(){var e=Object(c.c)((function(e){return e.aa.listByBase})),a=Object(c.c)((function(e){return e.aa.listByBaseLoaded})),t=Object(c.c)((function(e){return e.aa.active})),r=Object(c.b)();Object(n.useEffect)((function(){r($())}),[r]);var l=[];e.forEach((function(e){var a=e.definition[1].params;l.push({key:e.address,address:e.address,oracle:a.oracle_address,feed_name:a.feed_name,expiry_date:a.expiry_date,feed_value:a.feed_value,comparison:a.comparison})}));var o=function(){var e=Object(n.useState)([0,0]),a=Object(b.a)(e,2),t=a[0],s=a[1];return Object(n.useLayoutEffect)((function(){function e(){s([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}(),i=Object(b.a)(o,1)[0],u={length:i<1280?13:20},d=function(e){r(ee(e))},m=[{title:"Address",dataIndex:"address",key:"address",render:function(e){return i>=1440?e:e.length>u.length?s.a.createElement(Ce.a,{content:s.a.createElement("div",{style:{maxWidth:600}},e)},s.a.createElement("span",null,Object(K.truncate)(e,u))):e}},{title:"Oracle",dataIndex:"oracle",key:"oracle",render:function(e){return i>=1440?e:e.length>u.length?s.a.createElement(Ce.a,{content:s.a.createElement("div",{style:{maxWidth:600}},e)},s.a.createElement("span",null,Object(K.truncate)(e,u))):e}},{title:"Feed name",dataIndex:"feed_name",key:"feed_name",width:i>=1280?"auto":"none",render:function(e){return i>=1440?e:e.length>u.length?s.a.createElement(Ce.a,{content:s.a.createElement("div",{style:{maxWidth:600}},e)},s.a.createElement("span",null,Object(K.truncate)(e,u))):e}},{title:"Comparison",dataIndex:"comparison",key:"comparison"},{title:"Feed value",dataIndex:"feed_value",key:"feed_value",width:i>=1440?"auto":"none",render:function(e){return i>=1440?e:e.length>u.length?s.a.createElement(Ce.a,{content:s.a.createElement("div",{style:{maxWidth:600}},e)},s.a.createElement("span",null,Object(K.truncate)(e,u))):e}},{title:"Expiry date",dataIndex:"expiry_date",key:"expiry_date",width:100},{title:"Actions",key:"actions",align:"center",render:function(e,a){return s.a.createElement("span",null,s.a.createElement(A.a,{type:"primary",onClick:function(){return d(a.address)},disabled:t===a.address},"Select"))}}],p=Object(n.useState)(null),f=Object(b.a)(p,2),E=f[0],y=f[1];return s.a.createElement(z,{title:"Search AA",page:"search"},s.a.createElement(h.a,null,s.a.createElement(Te,{handleChangeSearchFormAA:function(e){var a=l;e.oracle&&(a=a.filter((function(a){return-1!==a.oracle.indexOf(e.oracle.toUpperCase())}))),e.feed_value&&(console.log("value is ",e.feed_value),a=a.filter((function(a){return a.feed_value.toString().toUpperCase()===e.feed_value.toUpperCase()}))),e.feed_name&&(a=a.filter((function(a){return-1!==a.feed_name.toUpperCase().indexOf(e.feed_name.toUpperCase())}))),e.comparison&&(a=a.filter((function(a){return a.comparison===e.comparison}))),e.expiry_date&&(a=a.filter((function(a){return a.expiry_date===e.expiry_date}))),y(a)}})),i>=900&&s.a.createElement(Ne.a,{dataSource:E||l,columns:m,size:"middle",loading:!a}),i<900&&s.a.createElement(h.a,null,(E||l).map((function(e,a){return s.a.createElement("div",{key:"aa"+a,style:{paddingBottom:15,paddingTop:15,paddingLeft:10,paddingRight:10,wordBreak:"break-all",background:t===e.address?"#f5f5f5":"none"},onClick:function(){return d(e.address)}},e.feed_name," ",e.comparison," ",e.feed_value," on"," ",e.expiry_date," (",e.address,")")}))))},Le=function(e){var a=Object(c.b)(),t=Object(c.c)((function(e){return e.aa.active}));return Object(n.useEffect)((function(){if(t){var e=setInterval((function(){return a(ae(t))}),1e4);return function(){clearInterval(e)}}}),[t,a]),Object(n.useEffect)((function(){a((function(e,a){try{J.subscribe((function(t,n){var s,r,l,c,o,i;return G.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=a(),r=s.aa.active,"light/aa_request"!==n[1].subject){t.next=6;break}n[1].body&&n[1].body.messages&&n[1].body.messages[0]&&n[1].body.messages[1]&&(l=Z.req(n[1]))&&l.AA===r&&(te(l.AA,l.title),e({type:"ADD_AA_NOTIFICATION",payload:l})),t.next=12;break;case 6:if("light/aa_response"!==n[1].subject){t.next=12;break}return c=n[1].body.aa_address,t.next=10,G.a.awrap(J.api.getAaStateVars({address:c}));case 10:o=t.sent,n[1].body&&n[1].body.response&&n[1].body.response&&(i=Z.res(n[1].body,o))&&i.AA===r&&(te(i.AA,i.title),e({type:"ADD_AA_NOTIFICATION",payload:i}));case 12:case"end":return t.stop()}}))}))}catch(t){console.log("error",t)}}))}),[a]),Object(n.useEffect)((function(){J.client.ws.addEventListener("close",(function(){a({type:"CLEAR_SUBSCRIBE_AA"})})),J.client.ws.addEventListener("open",(function(){t&&a(ee(t))}))}),[a,t]),s.a.createElement("div",null,e.children)},Re=t(448),De=t(89),Ve=_.a.Text,Fe=function(){var e=Object(c.b)(),a=Object(c.c)((function(e){return e.aa.listByBase})).length,t=Object(c.c)((function(e){return e.aa.notifications})),r=Object(c.c)((function(e){return e.aa.active}));Object(n.useEffect)((function(){e({type:"VIEWED_NOTIFICATION"})}),[e]);var l=t;return s.a.createElement(z,{title:"Notifications",page:"notifications"},s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:12}},s.a.createElement(v.a.Item,null,s.a.createElement(ie,{autoFocus:0!==a})))),s.a.createElement(h.a,null,s.a.createElement(g.a,{xs:{span:24},md:{span:18},xl:{span:14}},s.a.createElement(h.a,{style:{marginTop:50}},0!==l.length?s.a.createElement(Re.a,null,l.map((function(e,a){return s.a.createElement(Re.a.Item,{key:"Timeline - "+a},"error"!==e.tag?e.title:s.a.createElement(Ce.a,{content:s.a.createElement("div",{style:{maxWidth:500}},e.title)},s.a.createElement(Ve,{type:"danger",alt:"test"},e.title.substring(100,-10),e.title.length>100&&"...")))}))):s.a.createElement("div",null,0!==a&&!!r&&s.a.createElement(De.a,{image:De.a.PRESENTED_IMAGE_SIMPLE,description:"There are no notifications for this AA"}))))))},Ue=function(){return s.a.createElement(c.a,{store:y},s.a.createElement(Le,null,s.a.createElement(o.a,null,s.a.createElement(i.a,{exact:!0,path:"/"},s.a.createElement(pe,null)),s.a.createElement(i.a,{exact:!0,path:"/deploy"},s.a.createElement(Ae,null)),s.a.createElement(i.a,{exact:!0,path:"/search"},s.a.createElement(Be,null)),s.a.createElement(i.a,{exact:!0,path:"/issuing_assets"},s.a.createElement(Se,null)),s.a.createElement(i.a,{exact:!0,path:"/notifications"},s.a.createElement(Fe,null)))))};l.a.render(s.a.createElement(Ue,null),document.getElementById("root"))},73:function(e,a,t){e.exports={input:"Deploy_input__XSYn9",select:"Deploy_select__10pz6",alertWrap:"Deploy_alertWrap__i7xvt"}},88:function(e,a,t){e.exports={sider:"Sidebar_sider__3uFrQ",logo:"Sidebar_logo__2EIdY",logo__img:"Sidebar_logo__img__3Yeeu",brand:"Sidebar_brand__2-rjF",product:"Sidebar_product__1_2_U"}}},[[228,1,2]]]);
//# sourceMappingURL=main.fc9a043f.chunk.js.map